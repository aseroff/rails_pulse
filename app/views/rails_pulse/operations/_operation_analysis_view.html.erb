<dt>Code Location</dt>
<dd>
  <code>
    <%= html_escape(operation.codebase_location.present? ? operation.codebase_location.split('/').last(3).join('/') : 'N/A') %>
  </code>
</dd>

<dt>View Performance</dt>
<dd>
  <% if operation.duration > 100 %>
    Slow render (>100ms)
  <% elsif operation.duration > 50 %>
    Moderate render (>50ms)
  <% else %>
    Fast render
  <% end %>
</dd>

<% if operation.label&.include?('_') %>
  <dt>Template Type</dt>
  <dd>Partial template - ensure data is pre-loaded in controller</dd>
<% end %>

<% view_start = operation.occurred_at %>
<% view_end = operation.occurred_at + operation.duration %>
<% concurrent_db_ops = operation.request.operations
     .where(operation_type: ["sql"])
     .where("occurred_at >= ? AND occurred_at <= ?", view_start, view_end)
     .count %>

<% if concurrent_db_ops > 0 %>
  <dt>Queries During Rendering</dt>
  <dd><%= concurrent_db_ops %> database <%= 'query'.pluralize(concurrent_db_ops) %></dd>
<% end %>

<% if operation.duration > 50 %>
  <dt>Optimization Suggestion</dt>
  <dd>Consider fragment caching: <code>&lt;% cache do %&gt;</code></dd>
<% end %>
