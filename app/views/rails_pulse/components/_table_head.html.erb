<thead>
  <tr>
    <% columns.each do |column| %>
      <th class="<%= column[:class] %>">
        <% if column[:sortable] == false %>
          <%= column[:label] %>
        <% else %>
          <% sort_params = {} %>
          <% sort_params[:zoom_start_time] = @zoom_start if @zoom_start.present? %>
          <% sort_params[:zoom_end_time] = @zoom_end if @zoom_end.present? %>
          <% sort_params[:selected_column_time] = params[:selected_column_time] if params[:selected_column_time].present? %>
          <%= sort_link @ransack_query, column[:field], column[:label],
            sort_params.merge(
              class: "flex items-center",
              data: {
                turbo_prefetch: "false",
                turbo_frame: "index_table",
                action: "click->rails-pulse--table-sort#updateUrl"
              }
            ) %>
        <% end %>
      </th>
    <% end %>
  </tr>
</thead>
